@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Sistema Fluxo de Caixa</h1>
    <hr>
    <div class="flex" >
        <div class="div-inline-block">
            <b> Valor Total 
            <br>
            R$ @ViewBag.valorTotal.ToString("#0.00") 
            </b>
        </div>
        <div class="div-inline-block">
            <b>Receitas
            <br>
            R$ @ViewBag.receitas.ToString("#0.00")
            </b>
        </div>
        <div class="div-inline-block despesas">
            <b>Despesas
            <br>
            R$ @ViewBag.despesas.ToString("#0.00")
            </b>
        </div>
    </div>
    
    <div class="pesquisa">
        <div class="div-inline-block-pesquisa input-adicionar input button">
            <form action="/" class="block">
                <input name="tipo" type="text" placeholder="Pesquisar...."></input>
                <button class="btn btn-primary" >Buscar</button>
            </form>
        </div>
        <div class="div-inline-block-pesquisa btn-adicionar">
            <a href="/adicionar" class="btn btn-primary">Adicionar
            </a>    
        </div>
    </div>

    <table class="table tabela">
        <thead>
            <tr>
                <th>TIPO</th>
                <th>VALOR</th>
                <th>STATUS</th>
                <th></th>
                <th>EXCLUIR</th>
            </tr>
        </thead>
        <tbody>
            @* buscando  34,56 *@
            @foreach (var item in ViewBag.lista)
            {
            <tr>
                <td>@item.Tipo</td>
                <td>
                    R$ 
                     @if (@item.Status == dotnet_fluxo_de_caixa.Models.Status.Saida){
                       <span>- R$ @item.Valor </span>
                    }
                    else{
                        <span> R$ @item.Valor </span>  
                    }
                </td>
                <td>@item.Status</td>
                <td>
                    @if (@item.Status == dotnet_fluxo_de_caixa.Models.Status.Saida){
                        <div class="despesa-legenda"></div>
                    }
                    else{
                        <div class="receita-legenda"></div>
                    }
                </td>
                <td>
                <a class="excluir" href="#" onclick="if(confirm('Confirma Exclusão?')){ window.location.href = '/excluir/@item.Id'}">X</a>
                </td>
            </tr>
            }
        </tbody>
    </table>   
</div>
